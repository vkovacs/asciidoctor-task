plugins {
    id 'groovy'
    id 'org.asciidoctor.jvm.convert' version '3.1.0'
}

group 'org.example'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.codehaus.groovy:groovy-all:3.0.8'
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.2'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.2'
}

test {
    useJUnitPlatform()
}



asciidoctor {
    sourceDir  file('docs')
    sources {
        include 'toplevel.adoc'
    }
    outputDir  file('build/docs')
    attributes "myContent" : "myValue"
}


tasks.withType(org.asciidoctor.gradle.jvm.AsciidoctorTask) { docTask ->
    sourceDir  file('docs')
    sources {
        include 'toplevel.adoc'
    }
    outputDir  file('build/docs')
}

tasks.register("myContent1", org.asciidoctor.gradle.jvm.AsciidoctorTask) {
    attributes "myContent" : "myContent1"
}

tasks.register("myContent2", org.asciidoctor.gradle.jvm.AsciidoctorTask) {
    attributes "myContent" : "myContent2"
}